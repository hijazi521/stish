(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[416],{285:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(5155),a=r(2115),o=r(9708),n=r(2085),i=r(9434);let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:d=!1,...l}=e,u=d?o.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(c({variant:a,size:n,className:r})),ref:t,...l})});d.displayName="Button"},1949:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(157).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},6273:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(157).A)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},6603:(e,t,r)=>{"use strict";r.d(t,{_:()=>d,j:()=>l});var s=r(5155),a=r(2115),o=r(7481);let n=(0,a.createContext)(void 0);async function i(){try{let e=await fetch("https://api.ipify.org?format=json");if(!e.ok)return console.error("Failed to fetch IP, status:",e.status),"IP Not Found (Fetch Error)";return(await e.json()).ip||"IP Not Found (API)"}catch(e){return console.error("Error fetching IP:",e),"IP Not Found (Catch)"}}async function c(e){if(e.startsWith("IP Not Found")||"127.0.0.1"===e||"localhost"===e)return{city:"Local",country:"N/A"};try{let t=await fetch("https://ip-api.com/json/".concat(e,"?fields=status,message,country,city"));if(!t.ok)return{};let r=await t.json();if("success"===r.status)return{city:r.city,country:r.country}}catch(e){console.error("Error fetching geo info:",e)}return{}}let d=e=>{let{children:t}=e,[r,d]=(0,a.useState)([]),[l,u]=(0,a.useState)(!0),{toast:m}=(0,o.dj)();(0,a.useEffect)(()=>{try{let e=localStorage.getItem("stish_logs");e&&d(JSON.parse(e))}catch(e){console.error("Error parsing logs from localStorage:",e),localStorage.removeItem("stish_logs")}u(!1)},[]),(0,a.useEffect)(()=>{if(!l)try{localStorage.setItem("stish_logs",JSON.stringify(r))}catch(e){console.error("Error saving logs to localStorage:",e)}},[r,l]),(0,a.useEffect)(()=>{let e=e=>{if("stish_logs"===e.key&&e.newValue)try{d(JSON.parse(e.newValue))}catch(e){console.error("Error parsing logs from storage event:",e)}};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[]);let h=(0,a.useCallback)(async e=>{let t=await i(),r="undefined"!=typeof navigator?navigator.userAgent:"N/A",s={...e,id:crypto.randomUUID(),timestamp:new Date().toISOString(),ip:t,userAgent:r},a=e.data;if("location"===e.type){let r=await c(t);a={...e.data,city:r.city,country:r.country}}let o={...s,data:a};d(e=>[o,...e])},[]);return(0,s.jsx)(n.Provider,{value:{logs:r,addLog:h,clearLogs:()=>{d([]),m({title:"Logs Cleared",description:"All captured data has been deleted."})},isLoading:l},children:t})},l=()=>{let e=(0,a.useContext)(n);if(void 0===e)throw Error("useLogs must be used within a LogProvider");return e}},6716:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var s=r(5155);function a(e){let{children:t,title:r,statusMessage:a,isLoading:o,error:n}=e;return(0,s.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-background to-secondary p-4 sm:p-6 lg:p-8",children:(0,s.jsxs)("div",{className:"w-full max-w-lg bg-card p-6 sm:p-8 rounded-xl shadow-2xl border border-border",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-primary pt-3",children:r})," "]}),o&&(0,s.jsxs)("div",{className:"text-center my-6",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary mx-auto"}),(0,s.jsx)("p",{className:"mt-3 text-muted-foreground",children:"Processing request..."})]}),a&&!o&&(0,s.jsx)("div",{className:"my-4 p-3 bg-green-100 border border-green-300 text-green-700 rounded-md text-sm",children:a}),n&&!o&&(0,s.jsxs)("div",{className:"my-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded-md text-sm",children:[(0,s.jsx)("strong",{children:"Error:"})," ",n]}),(0,s.jsx)("div",{className:"mt-6",children:t})]})})}},7005:(e,t,r)=>{Promise.resolve().then(r.bind(r,8945))},7481:(e,t,r)=>{"use strict";r.d(t,{dj:()=>m});var s=r(2115);let a=0,o=new Map,n=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?n(r):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],d={toasts:[]};function l(e){d=i(d,e),c.forEach(e=>{e(d)})}function u(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>l({type:"DISMISS_TOAST",toastId:r});return l({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=s.useState(d);return s.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}},8376:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(157).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8945:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(5155),a=r(2115),o=r(5695),n=r(6603),i=r(285),c=r(6716),d=r(6273);let l=(0,r(157).A)("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);var u=r(8376),m=r(1949);let h={"voice-assistant":{title:"Setup Voice Assistant",actionText:"Enable Microphone & Calibrate",message:"To setup your new voice assistant, we need to calibrate your microphone. Please enable microphone access."},"speech-to-text":{title:"Speech-to-Text Demo",actionText:"Start Dictation",message:"Try our new speech-to-text feature. Enable your microphone to begin dictating."},"quality-check":{title:"Audio Quality Check",actionText:"Test Microphone Quality",message:"Perform a quick audio quality check. Please enable your microphone for testing."},default:{title:"Microphone Access Required",actionText:"Enable Microphone",message:"This feature requires microphone access. Please enable your microphone to continue."}};function p(){let{addLog:e}=(0,n.j)(),{id:t}=(0,o.useParams)(),r=t||"default",p=h[r]||h.default,[g,f]=(0,a.useState)("idle"),[x,y]=(0,a.useState)(null),[v,b]=(0,a.useState)(!1),j=(0,a.useRef)(null);(0,a.useEffect)(()=>{e({type:"generic",data:{message:"Visited audio phishing page: /phishing/audio/".concat(r)}})},[r]);let A=async()=>{j.current&&N(),f("requesting"),b(!0),y(null);try{j.current=await navigator.mediaDevices.getUserMedia({audio:!0}),f("recording_simulated"),setTimeout(()=>{e({type:"audio",data:{message:"Audio capture simulated successfully."}}),f("captured"),b(!1),N()},3e3)}catch(r){console.error("Audio access error:",r);let t="Could not access microphone.";r instanceof DOMException&&("NotAllowedError"===r.name||"PermissionDeniedError"===r.name?t="Microphone access denied by user.":("NotFoundError"===r.name||"DevicesNotFoundError"===r.name)&&(t="No microphone found on this device.")),y(t),f("error"),e({type:"generic",data:{message:"Audio error: ".concat(t)}}),b(!1)}},N=()=>{j.current&&(j.current.getTracks().forEach(e=>e.stop()),j.current=null),"captured"!==g&&"error"!==g&&f("idle")};return(0,a.useEffect)(()=>()=>{N()},[]),(0,s.jsxs)(c.Q,{title:p.title,isLoading:v&&"recording_simulated"!==g,error:x,statusMessage:"captured"===g?"Audio capture simulated successfully for demonstration.":void 0,children:[(0,s.jsx)("p",{className:"text-center text-muted-foreground mb-6",children:p.message}),(0,s.jsx)("div",{className:"flex flex-col items-center justify-center mb-6 p-6 bg-muted rounded-lg border",children:"recording_simulated"===g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.A,{className:"h-16 w-16 text-destructive animate-pulse mb-2"}),(0,s.jsx)("p",{className:"text-destructive font-medium",children:"Simulating Recording..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l,{className:"h-16 w-16 text-muted-foreground mb-2"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Microphone Inactive"})]})}),("idle"===g||"error"===g)&&(0,s.jsxs)(i.$,{onClick:A,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",disabled:v,children:[(0,s.jsx)(d.A,{className:"mr-2 h-5 w-5"}),v?"Initializing Microphone...":p.actionText]}),"captured"===g&&(0,s.jsxs)("div",{className:"text-center p-4 bg-green-50 border border-green-200 rounded-md",children:[(0,s.jsx)(u.A,{className:"mx-auto h-10 w-10 text-green-600 mb-2"}),(0,s.jsx)("p",{className:"font-semibold text-green-700",children:"Audio Capture Simulated"}),(0,s.jsx)("p",{className:"text-sm text-green-600",children:"This window can now be closed."})]}),"error"===g&&x&&(0,s.jsxs)("div",{className:"text-center p-4 bg-red-50 border border-red-200 rounded-md",children:[(0,s.jsx)(m.A,{className:"mx-auto h-10 w-10 text-red-600 mb-2"}),(0,s.jsx)("p",{className:"font-semibold text-red-700",children:"Microphone Access Failed"}),(0,s.jsx)("p",{className:"text-sm text-red-600",children:x})]})]})}},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var s=r(2596),a=r(9688);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[668,441,684,358],()=>t(7005)),_N_E=e.O()}]);